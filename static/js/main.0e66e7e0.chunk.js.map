{"version":3,"sources":["serviceWorker.js","utility.js","share.js","MuteButton.jsx","Header.jsx","VolumeSlider.jsx","Sound.jsx","Sounds.jsx","BodyText.jsx","ShareURL.jsx","Footer.jsx","App.jsx","index.jsx"],"names":["Boolean","window","location","hostname","match","angles","SCALE","hueIsTooClose","hue","hues","some","value","distance","previousHueIsTooClose","previousHue","previousLightnessIsTooClose","lightness","previousLightness","Math","abs","encodeShareURL","sounds","buf","ArrayBuffer","forEach","sound","index","filename","volume","view","DataView","fileIndex","soundFilenames","indexOf","combinedColour","setUint16","round","byteArray","Uint8Array","base64js","fromByteArray","replace","decodeShareURL","encodedString","toByteArray","buffer","i","getUint16","push","MuteButton","this","props","muted","onToggle","Button","variant","className","onClick","size","PureComponent","Header","document","addEventListener","onMuteToggle","onShuffleClick","Navbar","bg","Brand","Component","Slider","handleChange","bind","event","onChange","target","valueAsNumber","audioLoaded","FormControl","disabled","type","min","max","step","custom","Sound","state","loaded","handleVolumeChange","audio","Howl","src","loop","autoplay","once","setState","unload","onVolumeChange","Form","Group","style","backgroundColor","VolumeSlider","process","Sounds","columns","map","Col","key","Row","BodyText","Container","fluid","md","role","href","rel","ShareURL","code","Control","id","readOnly","origin","pathname","Footer","Text","getRandomSounds","currentSounds","filenames","randomFilename","randomInt","length","findIndex","numberToGet","getUniqueHues","lightnesses","getUniqueLightnesses","App","hash","substr","ls","get","Howler","mute","handleShuffleClick","handleMuteToggle","handleHashChange","removeEventListener","prevState","set","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.0e66e7e0.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import angles from 'angles';\nimport randomInt from 'random-int';\n\nangles.SCALE = 360;\n\n/**\n * The minimum distance (in degrees) between each generated hue\n *\n * @type {Number}\n */\nconst MIN_HUE_DISTANCE = 30;\n\n/**\n * The minimum distance (in degrees) between two adjacently displayed hues\n *\n * @type {Number}\n */\nconst MIN_ADJACENT_HUE_DISTANCE = 60;\n\nconst MIN_ADJACENT_LIGHTNESS_DISTANCE = 5;\n\n/**\n * Checks if the given hue is too close to any in the array of existing hues\n *\n * @param  {Number} hue  The hue to check\n * @param  {Number[]} hues The array of existing hues to check against\n * @return {Boolean}      Whether the given hue is too close to any in the array of existing hues\n */\nfunction hueIsTooClose(hue, hues) {\n  if (hues.some((value) => angles.distance(value, hue) < MIN_HUE_DISTANCE)) return true;\n  return false;\n}\n\n/**\n * Checks if the given hue is too close to the previous (adjacently displayed) hue\n *\n * @param  {Number} hue         The hue to check\n * @param  {Number} previousHue The previous hue to check against\n * @return {Boolean}             Whether the given hue is too close to the previous hue\n */\nfunction previousHueIsTooClose(hue, previousHue) {\n  if (angles.distance(hue, previousHue) < MIN_ADJACENT_HUE_DISTANCE) return true;\n  return false;\n}\n\nfunction getUniqueHues(numberToGet) {\n  const hues = [];\n\n  while (hues.length < numberToGet) {\n    const hue = randomInt(359);\n\n    if (\n      hues.length === 0\n      || (!hueIsTooClose(hue, hues)\n      && !previousHueIsTooClose(hue, hues[hues.length - 1]))\n    ) hues.push(hue);\n  }\n\n  return hues;\n}\n\nfunction previousLightnessIsTooClose(lightness, previousLightness) {\n  if (Math.abs(lightness - previousLightness) < MIN_ADJACENT_LIGHTNESS_DISTANCE) return true;\n  return false;\n}\n\nfunction getUniqueLightnesses(numberToGet) {\n  const lightnesses = [];\n\n  while (lightnesses.length < numberToGet) {\n    const lightness = randomInt(65, 85);\n\n    if (\n      lightnesses.length === 0\n      || !previousLightnessIsTooClose(lightness, lightnesses[lightnesses.length - 1])\n    ) lightnesses.push(lightness);\n  }\n\n  return lightnesses;\n}\n\nexport {\n  getUniqueHues,\n  getUniqueLightnesses,\n};\n","import base64js from 'base64-js';\n\nimport soundFilenames from './soundFilenames.json';\n\nconst VOLUME_PRECISION = 1000;\nconst LIGHTNESS_BITS = 7;\nconst HUE_BITS = 16 - LIGHTNESS_BITS;\n\nfunction URISafe(str) {\n  return str.replace('+', '-').replace('/', '_');\n}\n\nfunction unURISafe(str) {\n  return str.replace('-', '+').replace('_', '/');\n}\n\nfunction encodeShareURL(sounds) {\n  const buf = new ArrayBuffer(36);\n\n  sounds.forEach((sound, index) => {\n    const {\n      filename,\n      volume,\n      lightness,\n      hue,\n    } = sound;\n\n    const view = new DataView(buf, index * 6, 6);\n\n    const fileIndex = soundFilenames.indexOf(filename);\n    // eslint-disable-next-line no-bitwise\n    const combinedColour = (lightness << HUE_BITS) + hue;\n\n    view.setUint16(0, fileIndex);\n    view.setUint16(2, Math.round(volume * VOLUME_PRECISION));\n    view.setUint16(4, combinedColour);\n  });\n\n  const byteArray = new Uint8Array(buf);\n\n  return URISafe(base64js.fromByteArray(byteArray));\n}\n\nfunction decodeShareURL(encodedString) {\n  const byteArray = base64js.toByteArray(unURISafe(encodedString));\n  const buf = byteArray.buffer;\n\n  const sounds = [];\n\n  for (let i = 0; i < 36; i += 6) {\n    const view = new DataView(buf, i, 6);\n\n    const fileIndex = view.getUint16(0);\n    const volume = view.getUint16(2);\n    const combinedColour = view.getUint16(4);\n\n    // eslint-disable-next-line no-bitwise\n    const hue = combinedColour & ((2 ** HUE_BITS) - 1);\n    // eslint-disable-next-line no-bitwise\n    const lightness = combinedColour >> HUE_BITS;\n\n    sounds.push({\n      filename: soundFilenames[fileIndex],\n      hue,\n      lightness,\n      volume: volume / VOLUME_PRECISION,\n    });\n  }\n\n  return sounds;\n}\n\nexport { encodeShareURL, decodeShareURL };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/Button';\nimport { BsVolumeMuteFill, BsVolumeUpFill } from 'react-icons/bs';\n\nconst iconSize = '1.5em';\n\nclass MuteButton extends PureComponent {\n  render() {\n    const { muted, onToggle } = this.props;\n\n    return (\n      <Button variant={muted ? 'light' : 'secondary'} className={muted ? 'muted' : 'unmuted'} onClick={onToggle}>{muted ? <BsVolumeMuteFill size={iconSize} /> : <BsVolumeUpFill size={iconSize} />}</Button>\n    );\n  }\n}\n\nMuteButton.propTypes = {\n  muted: PropTypes.bool.isRequired,\n  onToggle: PropTypes.func.isRequired,\n};\n\nexport default MuteButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Button from 'react-bootstrap/Button';\nimport { BsShuffle } from 'react-icons/bs';\n\nimport MuteButton from './MuteButton';\n\nimport './Header.css';\n\nclass Header extends Component {\n  componentDidMount() {\n    document.addEventListener('touchend', () => {}, false);\n  }\n\n  render() {\n    const { muted, onMuteToggle, onShuffleClick } = this.props;\n\n    return (\n      <Navbar bg=\"dark\" variant=\"dark\">\n        <Navbar.Brand>Texture</Navbar.Brand>\n        <div className=\"buttons\">\n          <MuteButton onToggle={onMuteToggle} muted={muted} />\n          <Button variant=\"primary\" onClick={onShuffleClick}><BsShuffle size=\"1.5em\" /></Button>\n        </div>\n      </Navbar>\n    );\n  }\n}\n\nHeader.propTypes = {\n  muted: PropTypes.bool.isRequired,\n  onMuteToggle: PropTypes.func.isRequired,\n  onShuffleClick: PropTypes.func.isRequired,\n};\n\nexport default Header;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FormControl from 'react-bootstrap/FormControl';\n\nclass Slider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const { onChange } = this.props;\n    onChange(event.target.valueAsNumber);\n  }\n\n  render() {\n    const { value, audioLoaded } = this.props;\n    return (\n      <FormControl value={value} onChange={this.handleChange} disabled={!audioLoaded} type=\"range\" min={0} max={1} step=\"any\" custom />\n    );\n  }\n}\n\nSlider.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n  audioLoaded: PropTypes.bool.isRequired,\n};\n\nexport default Slider;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Form from 'react-bootstrap/Form';\nimport { Howl } from 'howler';\n\nimport VolumeSlider from './VolumeSlider';\n\nimport './Sound.css';\n\nclass Sound extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loaded: false,\n    };\n\n    this.handleVolumeChange = this.handleVolumeChange.bind(this);\n  }\n\n  componentDidMount() {\n    const { sound } = this.props;\n\n    this.audio = new Howl({\n      src: [`./audio/${sound.filename}`],\n      loop: true,\n      volume: sound.volume,\n      autoplay: true,\n    });\n\n    this.audio.once('load', () => {\n      this.setState({ loaded: true });\n    });\n  }\n\n  componentWillUnmount() {\n    this.audio.unload();\n  }\n\n  handleVolumeChange(volume) {\n    const { onVolumeChange, sound } = this.props;\n\n    onVolumeChange(sound, volume);\n\n    this.audio.volume(volume);\n  }\n\n  render() {\n    const { sound, muted } = this.props;\n    const { loaded } = this.state;\n\n    return (\n      <Form.Group className=\"sound\" style={{ backgroundColor: `hsl(${sound.hue}, ${muted ? 0 : 58}%, ${sound.lightness}%)` }}>\n        <VolumeSlider\n          onChange={this.handleVolumeChange}\n          value={sound.volume}\n          audioLoaded={loaded}\n        />\n        {process.env.NODE_ENV !== 'production' && process.env.REACT_APP_FILENAMES === 'true' && <small className=\"filename text-white bg-dark text-monospace\">{sound.filename}</small>}\n      </Form.Group>\n    );\n  }\n}\n\nSound.propTypes = {\n  sound: PropTypes.exact({\n    filename: PropTypes.string,\n    hue: PropTypes.number,\n    lightness: PropTypes.number,\n    volume: PropTypes.number,\n  }).isRequired,\n  muted: PropTypes.bool.isRequired,\n  onVolumeChange: PropTypes.func.isRequired,\n};\n\nexport default Sound;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\nimport Sound from './Sound';\n\nclass Sounds extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleVolumeChange = this.handleVolumeChange.bind(this);\n  }\n\n  handleVolumeChange(sound, volume) {\n    const { onVolumeChange } = this.props;\n\n    onVolumeChange(sound, volume);\n  }\n\n  render() {\n    const { sounds, muted } = this.props;\n\n    const columns = sounds.map((sound) => (\n      <Col key={sound.filename} className=\"col-12\">\n        <Sound onVolumeChange={this.handleVolumeChange} sound={sound} muted={muted} />\n      </Col>\n    ));\n\n    return (\n      <Row className=\"no-gutters\">\n        {columns}\n      </Row>\n    );\n  }\n}\n\nSounds.propTypes = {\n  sounds: PropTypes.arrayOf(PropTypes.exact({\n    filename: PropTypes.string,\n    hue: PropTypes.number,\n    lightness: PropTypes.number,\n    volume: PropTypes.number,\n  })).isRequired,\n  muted: PropTypes.bool.isRequired,\n  onVolumeChange: PropTypes.func.isRequired,\n};\n\nexport default Sounds;\n","import React, { PureComponent } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\n/* eslint-disable max-len */\n\nclass BodyText extends PureComponent {\n  render() {\n    return (\n      <Container fluid className=\"pt-4 px-4\">\n        <Row>\n          <Col md={6}>\n            <p>Each time you shuffle, Texture randomly chooses 6 audio loops and colours, and provides volume sliders for mixing. Once you have created a Texture you like, you can copy and share it’s unique URL, which will save the audio loops, the colours, and the volume levels for future use.</p>\n            <p>While there is no prescribed use, Texture was originally proposed to provide texture and atmosphere for synth music and sonic inspiration for soundtracking. Its colourful and simple interface encourages playfulness over perfection. With an ever growing pool of sounds, Texture can breathe life into an overly clean mix in all kinds of unexpected ways. It is both intense, absorbing and capable of a huge range of presences, characteristics and readings.</p>\n            <p><a className=\"btn btn-donate\" role=\"button\" href=\"https://paypal.me/graemejwalker\" target=\"_blank\" rel=\"noreferrer noopener\">Donate via PayPal</a></p>\n          </Col>\n          <Col md={6}>\n            <p>Whenever the sounds you’re working with need a bit of roughing up, or needs a refresh or a different perspective, give Texture a try.</p>\n            <p>You could try adding texture to:</p>\n            <ul>\n              <li>Theatre &amp; dance work</li>\n              <li>Sound Design</li>\n              <li>ASMR, meditation, yoga</li>\n              <li>Soundscape</li>\n              <li>Improvisation</li>\n              <li>Game Design</li>\n              <li>Or simply by itself, in the background</li>\n            </ul>\n            <p>We’ve already recorded hundreds of sounds just for this project, comprising field and studio recordings and software generated audio. They were mostly recorded at 96/48 and downsampled to 24 bit.</p>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default BodyText;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\n\nclass ShareURL extends PureComponent {\n  render() {\n    const { code } = this.props;\n\n    return (\n      <Container fluid>\n        <Form.Control className=\"mt-3\" type=\"text\" id=\"share-url\" readOnly value={`${window.location.origin}${window.location.pathname}#${code}`} />\n      </Container>\n    );\n  }\n}\n\nShareURL.propTypes = {\n  code: PropTypes.string.isRequired,\n};\n\nexport default ShareURL;\n","import React, { PureComponent } from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\n\nclass Footer extends PureComponent {\n  render() {\n    return (\n      <Navbar>\n        <Navbar.Text><small>Texture &copy; Spike Padley and Graeme Walker 2020</small></Navbar.Text>\n      </Navbar>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { Component } from 'react';\nimport randomInt from 'random-int';\nimport { Howler } from 'howler';\nimport ls from 'local-storage';\n\nimport { getUniqueHues, getUniqueLightnesses } from './utility';\nimport { encodeShareURL, decodeShareURL } from './share';\n\nimport Header from './Header';\nimport Sounds from './Sounds';\nimport BodyText from './BodyText';\nimport ShareURL from './ShareURL';\nimport Footer from './Footer';\n\nimport soundFilenames from './soundFilenames.json';\n\n/**\n * How many different sound sliders to display at once\n * @type {Number}\n */\nconst SOUNDS_TO_DISPLAY = 6;\n\nfunction getRandomSounds(currentSounds) {\n  const filenames = [];\n\n  while (filenames.length < SOUNDS_TO_DISPLAY) {\n    const randomFilename = soundFilenames[randomInt(0, soundFilenames.length - 1)];\n\n    if (\n      filenames.indexOf(randomFilename) === -1\n      && currentSounds.findIndex((sound) => sound.filename === randomFilename) === -1\n    ) filenames.push(randomFilename);\n  }\n\n  const hues = getUniqueHues(SOUNDS_TO_DISPLAY);\n  const lightnesses = getUniqueLightnesses(SOUNDS_TO_DISPLAY);\n\n  const sounds = filenames.map((filename, index) => ({\n    filename,\n    hue: hues[index],\n    lightness: lightnesses[index],\n    volume: 0,\n  }));\n\n  return sounds;\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    let sounds = [];\n\n    if (window.location.hash) {\n      const hash = window.location.hash.substr(1);\n\n      sounds = decodeShareURL(hash);\n    } else if (ls.get('sounds')) sounds = ls.get('sounds');\n    else sounds = getRandomSounds([]);\n\n    const muted = sounds.some((sound) => sound.volume > 0);\n\n    Howler.mute(muted);\n\n    this.state = {\n      sounds,\n      muted,\n    };\n\n    this.handleShuffleClick = this.handleShuffleClick.bind(this);\n    this.handleMuteToggle = this.handleMuteToggle.bind(this);\n    this.handleVolumeChange = this.handleVolumeChange.bind(this);\n    this.handleHashChange = this.handleHashChange.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('hashchange', this.handleHashChange, false);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('hashchange', this.handleHashChange, false);\n  }\n\n  handleShuffleClick() {\n    this.setState((prevState) => {\n      const previousSounds = prevState.sounds;\n\n      const sounds = getRandomSounds(previousSounds);\n\n      ls.set('sounds', sounds);\n\n      return { sounds };\n    });\n  }\n\n  handleMuteToggle() {\n    this.setState((prevState) => {\n      const muted = !prevState.muted;\n\n      Howler.mute(muted);\n\n      return { muted };\n    });\n  }\n\n  handleVolumeChange(sound, volume) {\n    this.setState((prevState) => {\n      const { sounds } = prevState;\n\n      sounds[sounds.indexOf(sound)].volume = volume;\n\n      ls.set('sounds', sounds);\n\n      return { sounds };\n    });\n  }\n\n  handleHashChange() {\n    const hash = window.location.hash.substr(1);\n\n    this.setState({ sounds: decodeShareURL(hash) });\n  }\n\n  render() {\n    const { muted, sounds } = this.state;\n\n    return (\n      <>\n        <Header\n          onShuffleClick={this.handleShuffleClick}\n          onMuteToggle={this.handleMuteToggle}\n          muted={muted}\n        />\n        <Sounds onVolumeChange={this.handleVolumeChange} sounds={sounds} muted={muted} />\n        <ShareURL code={encodeShareURL(sounds)} />\n        <BodyText />\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport './custom.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}